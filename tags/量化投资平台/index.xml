<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>量化投资平台 on 量子跳跃者</title><link>https://blog.ververv.com/tags/%E9%87%8F%E5%8C%96%E6%8A%95%E8%B5%84%E5%B9%B3%E5%8F%B0/</link><description>Recent content in 量化投资平台 on 量子跳跃者</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 03 May 2018 21:56:10 +0000</lastBuildDate><atom:link href="https://blog.ververv.com/tags/%E9%87%8F%E5%8C%96%E6%8A%95%E8%B5%84%E5%B9%B3%E5%8F%B0/index.xml" rel="self" type="application/rss+xml"/><item><title>RQAlpha</title><link>https://blog.ververv.com/p/rqalpha/</link><pubDate>Thu, 03 May 2018 21:56:10 +0000</pubDate><guid>https://blog.ververv.com/p/rqalpha/</guid><description>&lt;h1 id="当日历史行情">当日历史行情&lt;/h1>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">handle_bar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dict_bar&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">snapshot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">current_snapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;000001.XSHE&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>返回Snapshot对象&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>属性&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>注释&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>order_book_id&lt;/td>
&lt;td>str&lt;/td>
&lt;td>股票代码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>datetime&lt;/td>
&lt;td>datetime.datetime&lt;/td>
&lt;td>当前快照数据的时间戳&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>open&lt;/td>
&lt;td>float&lt;/td>
&lt;td>当日开盘价&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>last&lt;/td>
&lt;td>float&lt;/td>
&lt;td>当前最新价&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>high&lt;/td>
&lt;td>float&lt;/td>
&lt;td>截止到当前的最高价&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>low&lt;/td>
&lt;td>float&lt;/td>
&lt;td>截止到当前的最低价&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>prev_close&lt;/td>
&lt;td>float&lt;/td>
&lt;td>昨日收盘价&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>volume&lt;/td>
&lt;td>float&lt;/td>
&lt;td>截止到当前的成交量&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>total_turnover&lt;/td>
&lt;td>float&lt;/td>
&lt;td>截止到当前的成交额&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>具体见&lt;a class="link" href="https://www.ricequant.com/api/python/chn#data-methods-current_snapshot" target="_blank" rel="noopener"
>官方&lt;/a>&lt;/p>
&lt;p>只能在日内交易阶段调用，否则会抛出异常。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">rqalpha.api&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">before_trading&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;before_trading&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># snapshot = current_snapshot(&amp;#39;000001.XSHE&amp;#39;) # RuntimeError: current_snapshot 不能在 [日内交易前] 中调用。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">handle_bar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dict_bar&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">snapshot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">current_snapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;000001.XSHE&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">snapshot&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">after_trading&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;after_trading&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># snapshot = current_snapshot(&amp;#39;000001.XSHE&amp;#39;) # RuntimeError: current_snapshot 不能在 [日内交易后] 中调用。&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="mod">Mod&lt;/h1>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 查看当前安装的 Mod 列表及状态&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ rqalpha mod list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装 Mod&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ rqalpha mod install xxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 卸载 Mod&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ rqalpha mod uninstall xxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用 Mod&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ rqalpha mod &lt;span class="nb">enable&lt;/span> xxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 禁用 Mod&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ rqalpha mod disable xxx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="定义mod的名字">定义MOD的名字&lt;/h2>
&lt;p>在项目 &lt;code>rqalpha-mod-hello&lt;/code> 下新建 &lt;code>setup.py&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">pip.req&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">parse_requirements&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">setup&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;rqalpha-mod-hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">#mod名&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0.1.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="扩展api">扩展API&lt;/h1>
&lt;p>&lt;a class="link" href="http://rqalpha.readthedocs.io/zh_CN/latest/development/data_source.html#api" target="_blank" rel="noopener"
>官方&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/ricequant/rqalpha/blob/develop/rqalpha/examples/extend_api/rqalpha_mod_extend_api_demo.py" target="_blank" rel="noopener"
>实例&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="n">ExtendAPIDemoMod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AbstractMod&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_csv_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_inject_api&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">start_up&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mod_config&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_csv_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">abspath&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dirname&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">__file__&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">csv_path&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">tear_down&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">exception&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">None&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">_inject_api&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">from&lt;/span> &lt;span class="n">rqalpha&lt;/span> &lt;span class="n">import&lt;/span> &lt;span class="n">export_as_api&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">from&lt;/span> &lt;span class="n">rqalpha&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">execution_context&lt;/span> &lt;span class="n">import&lt;/span> &lt;span class="n">ExecutionContext&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">from&lt;/span> &lt;span class="n">rqalpha&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">import&lt;/span> &lt;span class="n">EXECUTION_PHASE&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">@&lt;/span>&lt;span class="n">export_as_api&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">@&lt;/span>&lt;span class="n">ExecutionContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">enforce_phase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">EXECUTION_PHASE&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ON_INIT&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">EXECUTION_PHASE&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">BEFORE_TRADING&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">EXECUTION_PHASE&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ON_BAR&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">EXECUTION_PHASE&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">AFTER_TRADING&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">EXECUTION_PHASE&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SCHEDULED&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">sm_add_listener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">func&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">event_bus&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_listener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">func&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="配置文件">配置文件&lt;/h1>
&lt;p>配置选项见&lt;a class="link" href="http://rqalpha.readthedocs.io/zh_CN/latest/intro/run_algorithm.html#id2" target="_blank" rel="noopener"
>这里&lt;/a>&lt;/p>
&lt;p>参数名全称的&lt;code>-&lt;/code>要变成&lt;code>_&lt;/code>&lt;/p>
&lt;p>例如&lt;code>disable-user-system-log&lt;/code>要变成&lt;code>user_system_log_disabled&lt;/code>&lt;/p>
&lt;p>更准确的要看源码：&lt;/p>
&lt;p>/Users/yanghaibin/anaconda3/lib/python3.6/site-packages/rqalpha/mod.py&lt;/p>
&lt;p>可以看到所有的选项&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">output_file&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">output_file&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;wb&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pickle&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dump&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result_dict&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">report_save_path&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">from&lt;/span> &lt;span class="nn">.report&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">generate_report&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">generate_report&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result_dict&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">report_save_path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot_save_file&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">from&lt;/span> &lt;span class="nn">.plot&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">plot_result&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">plot_result&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result_dict&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">_mod_config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot_save_file&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="链接">链接&lt;/h1>
&lt;p>&lt;a class="link" href="http://rqalpha.readthedocs.io/zh_CN/latest/intro/overview.html" target="_blank" rel="noopener"
>文档&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/ricequant/rqalpha/" target="_blank" rel="noopener"
>Github&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.ricequant.com/api/python/chn#data-methods-history_bars" target="_blank" rel="noopener"
>API文档&lt;/a>&lt;/p>
&lt;h1 id="windows环境安装rqalpha">Windows环境安装RQAlpha&lt;/h1>
&lt;h2 id="anaconda">Anaconda&lt;/h2>
&lt;p>&lt;strong>安装&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://repo.anaconda.com/archive/Anaconda3-5.2.0-Windows-x86_64.exe" target="_blank" rel="noopener"
>下载&lt;/a>&lt;/li>
&lt;li>安装时必须勾选添加path选项&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>检查Python版本&lt;/strong>&lt;/p>
&lt;p>在命令行输入python，看是否进入Anaconda版本的Python&lt;/p>
&lt;p>&lt;strong>修改Conda的源&lt;/strong>&lt;/p>
&lt;p>设置源&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">conda config --set show_channel_urls yes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>清华已经关闭该镜像&lt;/p>
&lt;/blockquote>
&lt;p>也可以直接个性 ~/.condarc文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">channels:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - defaults
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssl_verify: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">show_channel_urls: true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/30438444" target="_blank" rel="noopener"
>教程&lt;/a>&lt;/p>
&lt;h2 id="pip">pip&lt;/h2>
&lt;p>&lt;strong>修改源&lt;/strong>&lt;/p>
&lt;p>修改c:\users\xxx\pip\pip.ini，修改index-url至相应源&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[global]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">index-url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">http://pypi.douban.com/simple&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">trusted-host&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">pypi.douban.com&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://www.jianshu.com/p/a502577dc12e" target="_blank" rel="noopener"
>教程&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://pip.readthedocs.io/en/latest/user_guide/#config-file" target="_blank" rel="noopener"
>官方文档&lt;/a>&lt;/p>
&lt;h2 id="easy_install">easy_install&lt;/h2>
&lt;p>指定源&lt;/p>
&lt;p>创建配置文件：&lt;/p>
&lt;ul>
&lt;li>Windows下是在： ~\pydistutils.cfg&lt;/li>
&lt;li>Linux下是在： $HOME/.pydistutils.cfg&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[easy_install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">index-url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">http://pypi.douban.com/simple&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="setuptoolscython">setuptools&amp;amp;&amp;amp;cython&lt;/h2>
&lt;p>使用管理员权限打开CMD&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pip install -U setuptools cython -i https://pypi.douban.com/simple
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Logbook&lt;/p>
&lt;p>下载&lt;a class="link" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#Logbook" target="_blank" rel="noopener"
>Logbook&lt;/a>&lt;/p>
&lt;p>安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pip install Logbook‑1.3.3‑cp36‑cp36m‑win_amd64.whl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="bcolz">Bcolz&lt;/h2>
&lt;p>安装 Visual Studio&lt;/p>
&lt;p>依赖于VC++编译库&lt;/p>
&lt;p>安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">easy_install &lt;span class="nv">bcolz&lt;/span>&lt;span class="o">==&lt;/span>1.2.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="http://bcolz.readthedocs.io/en/latest/install.html" target="_blank" rel="noopener"
>官方安装文档&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">pip install &lt;span class="nv">bcolz&lt;/span>&lt;span class="o">==&lt;/span>1.2.0 -i https://pypi.douban.com/simple
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>验证&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">python&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="s2">&amp;#34;import bcolz; bcolz.test()&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="rqalpha">RQAlpha&lt;/h2>
&lt;p>&lt;a class="link" href="http://rqalpha.readthedocs.io/zh_CN/latest/intro/install.html" target="_blank" rel="noopener"
>官方教程&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>不要升级pip版本，保持在9.x.x版本&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pip install -i https://pypi.douban.com/simple rqalpha
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rqalpha version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rqalpha update_bundle
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="logbook">logbook&lt;/h2>
&lt;p>pip uninstall logbook&lt;/p>
&lt;p>pip install logbook==1.0.0&lt;/p>
&lt;h2 id="ta-lib">TA-Lib&lt;/h2>
&lt;p>下载&lt;a class="link" href="http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-msvc.zip" target="_blank" rel="noopener"
>TA-Lib包&lt;/a>&lt;/p>
&lt;p>解压到&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">C:&lt;/span>&lt;span class="p">\&lt;/span>&lt;span class="nb">ta-lib&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>下载&lt;a class="link" href="https://download.lfd.uci.edu/pythonlibs/l8ulg3xw/TA_Lib-0.4.17-cp36-cp36m-win_amd64.whl" target="_blank" rel="noopener"
>wheel包&lt;/a>&lt;/p>
&lt;p>安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pip&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="n">TA_Lib&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">0.4.9&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cp27&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">none&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">win_amd64&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">whl&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装包&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pip install TA-Lib
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#bcolz" target="_blank" rel="noopener"
>Wheel官网&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://mrjbq7.github.io/ta-lib/install.html" target="_blank" rel="noopener"
>TA-Lib安装指南&lt;/a>&lt;/p>
&lt;h2 id="其它">其它&lt;/h2>
&lt;p>&lt;strong>Tushare&lt;/strong>&lt;/p>
&lt;p>pip install tushare -i &lt;a class="link" href="https://pypi.douban.com/simple" target="_blank" rel="noopener"
>https://pypi.douban.com/simple&lt;/a>&lt;/p>
&lt;h1 id="mac环境">Mac环境&lt;/h1>
&lt;h2 id="redis">Redis&lt;/h2>
&lt;p>安装&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/HobHunter/article/details/77877008" target="_blank" rel="noopener"
>教程&lt;/a>&lt;/p>
&lt;p>运行&lt;/p>
&lt;p>sudo redis-server&lt;/p>
&lt;p>检查是否运行成功&lt;/p>
&lt;p>redis-cli ping&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/pingpangbing0902/article/details/47104545" target="_blank" rel="noopener"
>教程&lt;/a>&lt;/p>
&lt;p>命令工具&lt;/p>
&lt;p>redis-cli&lt;/p>
&lt;p>进行交互命令&lt;/p>
&lt;p>常见命令&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>keys *&lt;/th>
&lt;th>查看所有键值&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>set key value&lt;/td>
&lt;td>设置键key的值为value&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>append key value2&lt;/td>
&lt;td>在键key的值后面加上value2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>get key&lt;/td>
&lt;td>查看键key的值&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>也可以直接使用&lt;/p>
&lt;p>redis-cli get key&lt;/p>
&lt;p>&lt;a class="link" href="https://www.jianshu.com/p/af33284aa57a" target="_blank" rel="noopener"
>教程&lt;/a>&lt;/p>
&lt;h1 id="使用统一行情">使用统一行情&lt;/h1>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># 启用 Mod
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ rqalpha mod enable sys_stock_realtime
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">rqalpha quotation_server redis://localhost/1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://github.com/ricequant/rqalpha/blob/master/rqalpha/mod/rqalpha_mod_sys_stock_realtime/README.rst" target="_blank" rel="noopener"
>参考&lt;/a>&lt;/p></description></item></channel></rss>