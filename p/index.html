<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="<!DOCTYPE html> Responsive Demo with REM Welcome to the Responsive Demo This is an example of a responsive design using REM units."><title></title>
<link rel=canonical href=https://blog.ververv.com/p/><link rel=stylesheet href=/scss/style.min.d8118f156935b64eca93aca758476adca858d2c47354971654d9bd2933a0e45f.css><meta property='og:title' content><meta property='og:description' content="<!DOCTYPE html> Responsive Demo with REM Welcome to the Responsive Demo This is an example of a responsive design using REM units."><meta property='og:url' content='https://blog.ververv.com/p/'><meta property='og:site_name' content='量子跳跃者'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta name=twitter:title content><meta name=twitter:description content="<!DOCTYPE html> Responsive Demo with REM Welcome to the Responsive Demo This is an example of a responsive design using REM units."><link rel="shortcut icon" href=/favicon.png><script defer src=https://analytics.ververv.com/pixel/tABAb34VvSTV05V2></script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky compact"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><div class=site-meta><h1 class=site-name><a href=/>量子跳跃者</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/ target=_blank><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#python-版本历史>Python 版本历史</a></li><li><a href=#2x和3x的差异>2.x和3.x的差异</a></li></ol><ol><li><a href=#判断类型>判断类型</a></li><li><a href=#特殊的值>特殊的值</a><ol><li><a href=#none>None</a></li><li><a href=#null>Null</a></li><li><a href=#无穷大>无穷大</a></li><li><a href=#nan>NaN</a><ol><li><a href=#python>Python</a></li><li><a href=#numpy>NumPy</a></li><li><a href=#产生nan的情况>产生NaN的情况</a></li></ol></li></ol></li></ol><ol><li><a href=#限制float的精度>限制float的精度</a></li><li><a href=#判断float是否相同>判断float是否相同</a></li></ol><ol><li><a href=#args和kwargs>*args和**kwargs</a></li><li><a href=#从命令行读取参数>从命令行读取参数</a></li><li><a href=#装饰器>装饰器</a></li></ol><ol><li><a href=#快速打印多个字符>快速打印多个字符</a></li><li><a href=#格式>格式</a></li><li><a href=#打印整个对象的属性>打印整个对象的属性</a></li><li><a href=#打印ndarray>打印ndarray</a></li></ol><ol><li><a href=#startswith>startswith</a></li><li><a href=#format>format</a></li><li><a href=#replace>replace</a></li></ol><ol><li><a href=#date对象>date对象</a><ol><li><a href=#转成字符串>转成字符串</a></li><li><a href=#转成datetime对象>转成datetime对象</a></li></ol></li><li><a href=#time对象>time对象</a></li><li><a href=#datetime对象>datetime对象</a><ol><li><a href=#date>date()</a></li><li><a href=#date转strstrftime>date转str：strftime()</a></li><li><a href=#replace-1>replace()</a></li></ol></li><li><a href=#timedelta对象>timedelta对象</a><ol><li><a href=#milliseconds和microseconds>milliseconds和microseconds</a></li><li><a href=#可以与datetime可以做加减>可以与datetime可以做加减</a></li></ol></li><li><a href=#判断是否是同一天>判断是否是同一天</a></li><li><a href=#字符串转成datetime>字符串转成datetime</a><ol><li><a href=#格式-1>格式</a></li></ol></li><li><a href=#pandas的timestamp转datetime>Pandas的timestamp转datetime</a></li><li><a href=#timestamp>timestamp</a></li></ol><ol><li><a href=#列表>列表</a></li><li><a href=#字典>字典</a><ol><li><a href=#遍历>遍历</a></li></ol></li><li><a href=#集合>集合</a></li></ol><ol><li><a href=#抽象基类>抽象基类</a></li><li><a href=#属性>属性</a></li><li><a href=#继承>继承</a><ol><li><a href=#调用父类的方法>调用父类的方法</a></li></ol></li><li><a href=#静态方法>静态方法</a></li><li><a href=#定制类>定制类</a><ol><li><a href=#__str__>__str__</a></li></ol></li><li><a href=#单例>单例</a></li><li><a href=#对重载的支持-overloading>对重载的支持-overloading</a></li><li><a href=#获取实例的类名>获取实例的类名</a></li></ol><ol><li><a href=#基础-1>基础</a></li><li><a href=#引用-import-module格式>引用-import module格式</a></li><li><a href=#引用-from-module-import-name-格式>引用-from module import name 格式</a></li><li><a href=#引用-from-module-import--格式>引用-from module import * 格式</a></li><li><a href=#例子>例子</a></li><li><a href=#搜索路径>搜索路径</a></li><li><a href=#pythonpath-变量>PYTHONPATH 变量</a></li><li><a href=#dir函数>dir()函数</a></li><li><a href=#两种引用机制>两种引用机制</a></li><li><a href=#完全引用>完全引用</a><ol><li><a href=#相同项目模块间引用>相同项目模块间引用</a></li><li><a href=#将模块或包加入pythonpath>将模块或包加入PythonPath</a></li></ol></li><li><a href=#互相引用>互相引用</a></li></ol><ol><li><a href=#内置异常类>内置异常类</a></li></ol><ol><li><a href=#检查>检查</a></li><li><a href=#路径>路径</a></li><li><a href=#目录>目录</a></li><li><a href=#文件>文件</a><ol><li><a href=#打开和关闭文件>打开和关闭文件</a></li><li><a href=#读文件>读文件</a></li><li><a href=#写文件>写文件</a></li><li><a href=#删除文件文件夹>删除文件(文件夹)</a></li><li><a href=#重命名>重命名</a></li><li><a href=#复制>复制</a></li></ol></li><li><a href=#异常-1>异常</a></li><li><a href=#序列化>序列化</a><ol><li><a href=#picklejsonshelve对比>pickle、JSON、shelve对比</a></li><li><a href=#pickle>pickle</a></li></ol></li></ol><ol><li><a href=#hf5>HF5</a></li></ol><ol><li><a href=#异常处理>异常处理</a></li><li><a href=#sqlite的数据表的类型>SQLite的数据表的类型</a></li></ol><ol><li><a href=#获取线程信息>获取线程信息</a></li></ol><ol><li><a href=#循环>循环</a></li><li><a href=#三元表达式>三元表达式</a></li><li><a href=#代码规范>代码规范</a></li><li><a href=#pep>PEP</a></li><li><a href=#结构化工程>结构化工程</a></li><li><a href=#将python-2转成3的工具>将Python 2转成3的工具</a></li></ol><ol><li><a href=#变量名称切换大小写>变量名称切换大小写</a></li><li><a href=#自动生成函数的注释>自动生成函数的注释</a></li><li><a href=#在jenkins中配置项目>在Jenkins中配置项目</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/></a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jan 25, 2024</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 7 分钟</time></div></footer></div></header><section class=article-content><p>title: &ldquo;Python教程&rdquo;
description:
date: 2024-01-26T13:17:07+08:00
image:
math:
license:
hidden: false
comments: true
draft: false</p><h1 id=学习资料>学习资料</h1><ul><li>在线：廖雪峰的<a class=link href=https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000 target=_blank rel=noopener>在线教程</a>，挺不错的</li><li>纸质书：《Core Python》</li></ul><h1 id=基础>基础</h1><h2 id=python-版本历史>Python 版本历史</h2><div class=table-wrapper><table><thead><tr><th>版本</th><th>时间</th></tr></thead><tbody><tr><td>Python 3000</td><td>2008年</td></tr><tr><td>Python 2.7</td><td>2010年</td></tr><tr><td>Python 3.5</td><td>2015年</td></tr></tbody></table></div><p><a class=link href=https://pythoncaff.com/topics/22/the-version-history-of-python target=_blank rel=noopener>参考</a></p><h2 id=2x和3x的差异>2.x和3.x的差异</h2><p><a class=link href=http://www.runoob.com/python/python-2x-3x.html target=_blank rel=noopener>链接</a></p><h1 id=内置类型>内置类型</h1><h2 id=判断类型>判断类型</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Variables of different types</span>
</span></span><span class=line><span class=cl><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=mf>0.1</span>
</span></span><span class=line><span class=cl><span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;Hell&#34;</span>
</span></span><span class=line><span class=cl><span class=n>l</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>d</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>:</span> <span class=s2>&#34;Zero&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>:</span> <span class=s2>&#34;One&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>t</span> <span class=o>=</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=n>n</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>i</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=nb>int</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>f</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>f</span><span class=p>,</span> <span class=nb>float</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>s</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=nb>str</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>l</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>l</span><span class=p>,</span> <span class=nb>list</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>d</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=nb>dict</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>t</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>b</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>b</span><span class=p>,</span> <span class=nb>bool</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>n</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;n is None&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;n is not None&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://codeyarns.com/2010/01/28/python-checking-type-of-variable/ target=_blank rel=noopener>参考</a></p><p>支持列表</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># isinstance 支持tuple</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=特殊的值>特殊的值</h2><h3 id=none>None</h3><p>是一个对象</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=kc>None</span><span class=p>))</span> <span class=c1># &lt;class &#39;NoneType&#39;&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>None和任何其他的数据类型比较永远返回False</p><ul><li><p><strong>if</strong> 返回<strong>False</strong></p></li><li><p><strong>==<strong>与其它类型比较，都是</strong>False</strong></p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>a</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;True&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;False&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># False</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=null>Null</h3><p><strong>Python</strong> 没有这个关键字</p><h3 id=无穷大>无穷大</h3><p>+∞（正无穷大）</p><p>-∞（负无穷大）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>float</span><span class=p>(</span><span class=s2>&#34;inf&#34;</span><span class=p>)</span>   <span class=c1># 正无穷</span>
</span></span><span class=line><span class=cl><span class=nb>float</span><span class=p>(</span><span class=s2>&#34;-inf&#34;</span><span class=p>)</span>  <span class=c1># 负无穷</span>
</span></span></code></pre></td></tr></table></div></div><p>创建</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>a</span><span class=p>))</span> <span class=c1># &lt;class &#39;float&#39;&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>inf</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>c</span><span class=p>))</span> <span class=c1># &lt;class &#39;float&#39;&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>numpy也有方法</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>import numpy as np
</span></span><span class=line><span class=cl>np.inf
</span></span></code></pre></td></tr></table></div></div><p>判断</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>inf</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>math</span><span class=o>.</span><span class=n>isinf</span><span class=p>(</span><span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;True&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=http://kuanghy.github.io/2016/12/03/python-inf-nan target=_blank rel=noopener>链接</a></p><h3 id=nan>NaN</h3><blockquote><p>Not a Number</p></blockquote><p>导致NaN的情况</p><ul><li>无穷大减无穷大</li><li>无穷大 乘以 0 or 无穷小</li><li>除以无穷大</li></ul><p>涉及到无穷大的四则运算, 若无法确定运算结果仍为无穷大, 那么运算结果就是一个NaN。</p><h4 id=python>Python</h4><p>创建</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;nan&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>a</span><span class=p>))</span> <span class=c1># &lt;class &#39;float&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span> <span class=c1># nan</span>
</span></span></code></pre></td></tr></table></div></div><p>判断</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>math</span><span class=o>.</span><span class=n>isnan</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>NaN != NaN</p><p>b == b 结果为 False</p><h4 id=numpy>NumPy</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>b = np.nan
</span></span><span class=line><span class=cl>print(type(b)) # &lt;class &#39;float&#39;&gt;
</span></span><span class=line><span class=cl>print(b) # nan
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://blog.csdn.net/lanchunhui/article/details/50075217 target=_blank rel=noopener>参考</a></p><h4 id=产生nan的情况>产生NaN的情况</h4><p>inf + 1还是inf</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>a</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>b</span><span class=p>))</span> <span class=c1># &lt;class &#39;float&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=c1># inf</span>
</span></span></code></pre></td></tr></table></div></div><p>inf - inf = nan</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=n>a</span> <span class=o>-</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>b</span><span class=p>))</span> <span class=c1># &lt;class &#39;float&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=c1># nan</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=数字计算>数字计算</h1><ol><li>/是精确除法，//是向下取整除法，%是求模</li><li>%求模是基于向下取整除法规则的</li><li>四舍五入取整round, 向零取整int, 向下和向上取整函数math.floor, math.ceil</li><li>//和math.floor在CPython中的不同</li><li>/在python 2 中是向下取整运算</li><li>C中%是向零取整求模</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;usage of 3 operators /, // and </span><span class=si>% i</span><span class=s1>n python 3.4&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;1). usage of /&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;10/4 = &#39;</span><span class=p>,</span> <span class=mi>10</span><span class=o>/</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;-10/4 = &#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>10</span><span class=o>/</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;10/-4 = &#39;</span><span class=p>,</span> <span class=mi>10</span><span class=o>/-</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;-10/-4 = &#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>10</span><span class=o>/-</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>2). usage of //&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;10//4 = &#39;</span><span class=p>,</span> <span class=mi>10</span><span class=o>//</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;-10//4 = &#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>10</span><span class=o>//</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;10//-4 = &#39;</span><span class=p>,</span> <span class=mi>10</span><span class=o>//-</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;-10//-4 = &#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>10</span><span class=o>//-</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>3). usage of %&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;10%4 = &#39;</span><span class=p>,</span> <span class=mi>10</span><span class=o>%</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;-10%4 = &#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>10</span><span class=o>%</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;10%-4 = &#39;</span><span class=p>,</span> <span class=mi>10</span><span class=o>%-</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=s1>&#39;-10%-4 = &#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>10</span><span class=o>%-</span><span class=mi>4</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://blog.csdn.net/huzq1976/article/details/51581330 target=_blank rel=noopener>参考</a></p><h2 id=限制float的精度>限制float的精度</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>round</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=判断float是否相同>判断float是否相同</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mf>5.0</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=mf>4.99998</span>
</span></span><span class=line><span class=cl><span class=n>math</span><span class=o>.</span><span class=n>isclose</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>rel_tol</span><span class=o>=</span><span class=mf>1e-5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># True</span>
</span></span><span class=line><span class=cl><span class=n>math</span><span class=o>.</span><span class=n>isclose</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>rel_tol</span><span class=o>=</span><span class=mf>1e-6</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># False</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3/whatsnew/3.5.html#pep-485-a-function-for-testing-approximate-equality target=_blank rel=noopener>官网</a></p><h1 id=枚举类>枚举类</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>w</span> <span class=o>=</span> <span class=n>Enum</span><span class=p>(</span><span class=s1>&#39;Week&#39;</span><span class=p>,</span> <span class=p>(</span><span class=s1>&#39;Mon&#39;</span><span class=p>,</span> <span class=s1>&#39;Tue&#39;</span><span class=p>,</span> <span class=s1>&#39;Wed&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>w</span><span class=p>))</span> <span class=c1># &lt;class &#39;enum.EnumMeta&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>w</span><span class=p>)</span> <span class=c1># &lt;enum &#39;week&#39;&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用某个值</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>w</span><span class=o>.</span><span class=n>Tue</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>w</span><span class=o>.</span><span class=n>Tue</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>w</span><span class=p>[</span><span class=s1>&#39;Tue&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>w</span><span class=p>(</span><span class=mi>2</span><span class=p>))</span> <span class=c1># 默认从1开始计数</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;***&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 迭代</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>member</span> <span class=ow>in</span> <span class=n>w</span><span class=o>.</span><span class=n>__members__</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=s1>&#39;=&gt;&#39;</span><span class=p>,</span> <span class=n>member</span><span class=p>,</span> <span class=s1>&#39;,&#39;</span><span class=p>,</span> <span class=n>member</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Mon =&gt; Week.Mon , 1</span>
</span></span><span class=line><span class=cl><span class=c1># Tue =&gt; Week.Tue , 2</span>
</span></span><span class=line><span class=cl><span class=c1># Wed =&gt; Week.Wed , 3</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143191235886950998592cd3e426e91687cdae696e64b000 target=_blank rel=noopener>参考</a></p><h1 id=函数>函数</h1><h2 id=args和kwargs>*args和**kwargs</h2><ul><li>这两个是python中的可变参数</li><li>*args表示任何多个无名参数，它是一个tuple</li><li>**kwargs表示关键字参数，它是一个dict</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>foo</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=s1>&#39;args = &#39;</span><span class=p>,</span> <span class=n>args</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=s1>&#39;kwargs = &#39;</span><span class=p>,</span> <span class=n>kwargs</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=s1>&#39;---------------------------------------&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>foo</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>foo</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span><span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span><span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>foo</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span><span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span><span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>foo</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=n>输出结果如下</span><span class=err>：</span>
</span></span><span class=line><span class=cl><span class=n>args</span> <span class=o>=</span>  <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>kwargs</span> <span class=o>=</span>  <span class=p>{}</span> 
</span></span><span class=line><span class=cl><span class=o>---------------------------------------</span> 
</span></span><span class=line><span class=cl><span class=n>args</span> <span class=o>=</span>  <span class=p>()</span> 
</span></span><span class=line><span class=cl><span class=n>kwargs</span> <span class=o>=</span>  <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=o>---------------------------------------</span> 
</span></span><span class=line><span class=cl><span class=n>args</span> <span class=o>=</span>  <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>kwargs</span> <span class=o>=</span>  <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=o>---------------------------------------</span> 
</span></span><span class=line><span class=cl><span class=n>args</span> <span class=o>=</span>  <span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>kwargs</span> <span class=o>=</span>  <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=s1>&#39;2&#39;</span><span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=o>---------------------------------------</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>同时使用<em>args和**kwargs时，必须</em>args参数列要在**kwargs前，像foo(a=1, b=&lsquo;2&rsquo;, c=3, a&rsquo;, 1, None, )这样调用的话，会提示语法错误“SyntaxError: non-keyword arg after keyword arg”</p></blockquote><p><a class=link href=http://www.cnblogs.com/fengmk2/archive/2008/04/21/1163766.html target=_blank rel=noopener>参考</a></p><h2 id=从命令行读取参数>从命令行读取参数</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># main</span>
</span></span><span class=line><span class=cl><span class=n>param_1</span><span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=n>param_2</span><span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=n>param_3</span><span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>  
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=s1>&#39;Params=&#39;</span><span class=p>,</span> <span class=n>param_1</span><span class=p>,</span> <span class=n>param_2</span><span class=p>,</span> <span class=n>param_3</span>
</span></span><span class=line><span class=cl><span class=c1># 第一个参数是 Python文件的路径</span>
</span></span><span class=line><span class=cl><span class=c1># [&#39;example.py&#39;, &#39;one&#39;, &#39;two&#39;, &#39;three&#39;]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=装饰器>装饰器</h2><p>Python语言提供一个简单而强大的语法: ‘装饰器’。</p><p>装饰器是一个函数或类，它可以 包装(或装饰)一个函数或方法。被 ‘装饰’ 的函数或方法会替换原来的函数或方法。</p><p> 由于在Python中函数是一等对象，它也可以被 ‘手动操作’，但是使用@decorators 语法更清晰，因此首选这种方式。</p><p><strong>手动装饰</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>foo</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># 实现语句</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 操作func语句</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>func</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>foo</span> <span class=o>=</span> <span class=n>decorator</span><span class=p>(</span><span class=n>foo</span><span class=p>)</span>  <span class=c1># 手动装饰</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>自动装饰</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>log</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;log&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@log</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>now</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;now&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>now</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>把<code>@log</code>放到<code>now()</code>函数的定义处，相当于执行了语句</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>now</span> <span class=o>=</span> <span class=n>log</span><span class=p>(</span><span class=n>now</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014318435599930270c0381a3b44db991cd6d858064ac0000 target=_blank rel=noopener>参考</a></p><h1 id=实用函数>实用函数</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>isinstance</span><span class=p>(</span><span class=n>result</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=打印>打印</h1><p>格式化</p><p>非常好的<a class=link href=https://pyformat.info/ target=_blank rel=noopener>文章</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=s1>&#39;one&#39;</span><span class=p>,</span> <span class=s1>&#39;two&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>New</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=s1>&#39;</span><span class=si>{}</span><span class=s1> </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s1>&#39;one&#39;</span><span class=p>,</span> <span class=s1>&#39;two&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Output</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>one two
</span></span></code></pre></td></tr></table></div></div><p>Old</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=s1>&#39;</span><span class=si>%d</span><span class=s1> </span><span class=si>%d</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>New</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=s1>&#39;</span><span class=si>{}</span><span class=s1> </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Output</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1 2
</span></span></code></pre></td></tr></table></div></div><h2 id=快速打印多个字符>快速打印多个字符</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>six</span>
</span></span><span class=line><span class=cl><span class=n>six</span><span class=o>.</span><span class=n>print_</span><span class=p>(</span><span class=s2>&#34;-&#34;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=格式>格式</h2><p>%f 表示 float</p><h2 id=打印整个对象的属性>打印整个对象的属性</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pprint</span> <span class=kn>import</span> <span class=n>pprint</span>
</span></span><span class=line><span class=cl><span class=n>pprint</span><span class=p>(</span><span class=nb>vars</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__portfolio</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=打印ndarray>打印ndarray</h2><p>直接打死ndarray，会使用科学计算法。需要设置下numpy。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>np</span><span class=o>.</span><span class=n>set_printoptions</span><span class=p>(</span><span class=n>formatter</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;float&#39;</span><span class=p>:</span> <span class=s1>&#39;</span><span class=si>{: 0.3f}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=字符串>字符串</h1><h2 id=startswith>startswith</h2><p>startswith takes <code>str or a tuple of str</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>magicWord</span> <span class=o>=</span> <span class=s1>&#39;zzzTest&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>magicWord</span><span class=o>.</span><span class=n>startswith</span><span class=p>((</span><span class=s1>&#39;zzz&#39;</span><span class=p>,</span> <span class=s1>&#39;yyy&#39;</span><span class=p>,</span> <span class=s1>&#39;rrr&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3/library/stdtypes.html#str.startswith target=_blank rel=noopener>官方</a></p><h2 id=format>format</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;</span><span class=si>{0}</span><span class=s1>, </span><span class=si>{1}</span><span class=s1>, </span><span class=si>{2}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;a, b, c&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;</span><span class=si>{}</span><span class=s1>, </span><span class=si>{}</span><span class=s1>, </span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>)</span>  <span class=c1># 3.1+ only</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;a, b, c&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;</span><span class=si>{2}</span><span class=s1>, </span><span class=si>{1}</span><span class=s1>, </span><span class=si>{0}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;c, b, a&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;</span><span class=si>{2}</span><span class=s1>, </span><span class=si>{1}</span><span class=s1>, </span><span class=si>{0}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=o>*</span><span class=s1>&#39;abc&#39;</span><span class=p>)</span>      <span class=c1># unpacking argument sequence</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;c, b, a&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;</span><span class=si>{0}{1}{0}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s1>&#39;abra&#39;</span><span class=p>,</span> <span class=s1>&#39;cad&#39;</span><span class=p>)</span>   <span class=c1># arguments&#39; indices can be repeated</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;abracadabra&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3.4/library/string.html#format-examples target=_blank rel=noopener>参考</a></p><h2 id=replace>replace</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>stock_id</span> <span class=o>=</span> <span class=n>stock_id</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>,</span> <span class=s1>&#39;_&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3/library/stdtypes.html#str.replace target=_blank rel=noopener>官方文档</a></p><h1 id=时间>时间</h1><p><a class=link href=https://docs.python.org/3/library/datetime.html target=_blank rel=noopener>官方文档</a></p><h2 id=date对象>date对象</h2><p>属性: <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.date.year target=_blank rel=noopener><code>year</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.date.month target=_blank rel=noopener><code>month</code></a>, and <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.date.day target=_blank rel=noopener><code>day</code></a>.</p><h3 id=转成字符串>转成字符串</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>trade_date</span><span class=o>.</span><span class=n>isoformat</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;2002-03-11&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/2/library/datetime.html#datetime.date.isoformat target=_blank rel=noopener>官方文档</a></p><h3 id=转成datetime对象>转成datetime对象</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>date</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>d</span> <span class=o>=</span> <span class=n>date</span><span class=o>.</span><span class=n>today</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>datetime</span><span class=o>.</span><span class=n>combine</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=n>datetime</span><span class=o>.</span><span class=n>min</span><span class=o>.</span><span class=n>time</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=time对象>time对象</h2><p>Attributes: <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.time.hour target=_blank rel=noopener><code>hour</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.time.minute target=_blank rel=noopener><code>minute</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.time.second target=_blank rel=noopener><code>second</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.time.microsecond target=_blank rel=noopener><code>microsecond</code></a>, and <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.time.tzinfo target=_blank rel=noopener><code>tzinfo</code></a>.</p><h2 id=datetime对象>datetime对象</h2><p>Attributes: <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.year target=_blank rel=noopener><code>year</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.month target=_blank rel=noopener><code>month</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.day target=_blank rel=noopener><code>day</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.hour target=_blank rel=noopener><code>hour</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.minute target=_blank rel=noopener><code>minute</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.second target=_blank rel=noopener><code>second</code></a>, <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.microsecond target=_blank rel=noopener><code>microsecond</code></a>, and <a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.tzinfo target=_blank rel=noopener><code>tzinfo</code></a>.</p><p>可以看成：<code>datetime对象</code>=<code>date对象</code>+<code>time对象</code></p><p>###now()</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>datetime.datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=ne>ModuleNotFoundError</span><span class=p>:</span> <span class=n>No</span> <span class=n>module</span> <span class=n>named</span> <span class=s1>&#39;datetime.datetime&#39;</span><span class=p>;</span> <span class=s1>&#39;datetime&#39;</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>a</span> <span class=n>package</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.now target=_blank rel=noopener>官方文档</a></p><blockquote><p>还有<code>today()</code>方法</p></blockquote><h3 id=date>date()</h3><p>转成date对象</p><p><a class=link href=https://docs.python.org/3/library/datetime.html#datetime.datetime.date target=_blank rel=noopener>官方文档</a></p><h3 id=date转strstrftime>date转str：strftime()</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dt</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2015</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>19</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>dt</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dt</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>str</span> <span class=o>=</span> <span class=n>dt</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s1>&#39;%Y-%m-</span><span class=si>%d</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=nb>str</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># &lt;class &#39;datetime.datetime&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># 2015-04-19 12:20:00</span>
</span></span><span class=line><span class=cl><span class=c1># &lt;class &#39;str&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># 2015-04-19</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior target=_blank rel=noopener>字符串-格式文档</a></p><h3 id=replace-1>replace()</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>dt</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>hour</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>minute</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>second</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>microsecond</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>返回一个新的datetime对象。</p><p><a class=link href=https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior target=_blank rel=noopener>官方文档</a></p><h2 id=timedelta对象>timedelta对象</h2><p>初始化</p><p><code>datetime.``timedelta</code>([<em>days</em>[, <em>seconds</em>[, <em>microseconds</em>[, <em>milliseconds</em>[, <em>minutes</em>[, <em>hours</em>[, <em>weeks</em>]]]]]]])</p><p>可以加减乘除</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>day</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>seconds</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>milliseconds</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>day</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>day</span><span class=o>.</span><span class=n>days</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>day</span><span class=o>.</span><span class=n>seconds</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>day</span><span class=o>.</span><span class=n>microseconds</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ten_day</span> <span class=o>=</span> <span class=mi>10</span> <span class=o>*</span> <span class=n>day</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ten_day</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ten_day</span><span class=o>.</span><span class=n>days</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ten_day</span><span class=o>.</span><span class=n>seconds</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ten_day</span><span class=o>.</span><span class=n>microseconds</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>d1</span> <span class=o>=</span> <span class=n>ten_day</span> <span class=o>/</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>d1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>d1</span><span class=o>.</span><span class=n>days</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>d1</span><span class=o>.</span><span class=n>seconds</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>d1</span><span class=o>.</span><span class=n>microseconds</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>内置只有3个值</p><div class=table-wrapper><table><thead><tr><th>Attribute</th><th>Value</th></tr></thead><tbody><tr><td><code>days</code></td><td>Between -999999999 and 999999999 inclusive</td></tr><tr><td><code>seconds</code></td><td>Between 0 and 86399 inclusive</td></tr><tr><td><code>microseconds</code></td><td>Between 0 and 999999 inclusive</td></tr></tbody></table></div><p>有3个常量</p><ul><li><p>`timedelta.``min</p></li><li><p>`timedelta.``max</p></li><li><p>`timedelta.``resolution</p></li></ul><p><a class=link href=https://docs.python.org/2/library/datetime.html#timedelta-objects target=_blank rel=noopener>官方</a></p><h3 id=milliseconds和microseconds>milliseconds和microseconds</h3><p>1000 milli second = 1 second</p><p>1 000 000 micro second = 1 second</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>timedelta</span><span class=p>(</span><span class=n>milliseconds</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>timedelta</span><span class=p>(</span><span class=n>microseconds</span><span class=o>=</span><span class=mi>1000</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=可以与datetime可以做加减>可以与datetime可以做加减</h3><p>N/A</p><h2 id=判断是否是同一天>判断是否是同一天</h2><p>思路：使用datetime.date()方法变成date类型</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>d1</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2018</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>13</span><span class=p>,</span> <span class=mi>13</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>d2</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2018</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>15</span><span class=p>,</span> <span class=mi>13</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>d1</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>d1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>d1</span> <span class=o>==</span> <span class=n>d2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;d1, d2 equal&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;d1, d2 not equal&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>d5</span> <span class=o>=</span> <span class=n>d1</span><span class=o>.</span><span class=n>date</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>d5</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>d5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>d1</span><span class=o>.</span><span class=n>date</span><span class=p>()</span> <span class=o>==</span> <span class=n>d2</span><span class=o>.</span><span class=n>date</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;d1, d2, equal&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;d1, d2, not equal&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=字符串转成datetime>字符串转成datetime</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ss</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span> <span class=s1>&#39;%Y%m</span><span class=si>%d</span><span class=s1>%H%M%S&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=格式-1>格式</h3><p>见<a class=link href=https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior target=_blank rel=noopener>官方文档</a></p><h2 id=pandas的timestamp转datetime>Pandas的timestamp转datetime</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>pandas</span><span class=o>.</span><span class=n>_libs</span><span class=o>.</span><span class=n>tslib</span><span class=o>.</span><span class=n>Timestamp</span><span class=s1>&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=n>index</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=timestamp>timestamp</h2><p><a class=link href=http://timestamp.online/article/how-to-get-current-timestamp-in-python target=_blank rel=noopener>三种方式</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>datetime</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ts</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>timestamp</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ts</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 1528679931.43</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=http://tool.chinaz.com/Tools/unixtime.aspx target=_blank rel=noopener>转换工具</a></p><h1 id=数据结构>数据结构</h1><h2 id=列表>列表</h2><p><strong>逆序</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>list</span><span class=p>(</span><span class=nb>reversed</span><span class=p>(</span><span class=n>a_list</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=字典>字典</h2><p>方法</p><p><a class=link href=https://www.programiz.com/python-programming/methods/dictionary target=_blank rel=noopener>参考</a></p><div class=table-wrapper><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/clear target=_blank rel=noopener>Python Dictionary clear()</a></td><td>Removes all Items</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/copy target=_blank rel=noopener>Python Dictionary copy()</a></td><td>Returns Shallow Copy of a Dictionary</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/fromkeys target=_blank rel=noopener>Python Dictionary fromkeys()</a></td><td>creates dictionary from given sequence</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/get target=_blank rel=noopener>Python Dictionary get()</a></td><td>Returns Value of The Key</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/items target=_blank rel=noopener>Python Dictionary items()</a></td><td>returns view of dictionary&rsquo;s (key, value) pair</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/keys target=_blank rel=noopener>Python Dictionary keys()</a></td><td>Returns View Object of All Keys</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/popitem target=_blank rel=noopener>Python Dictionary popitem()</a></td><td>Returns & Removes Element From Dictionary</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/setdefault target=_blank rel=noopener>Python Dictionary setdefault()</a></td><td>Inserts Key With a Value if Key is not Present</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/pop target=_blank rel=noopener>Python Dictionary pop()</a></td><td>removes and returns element having given key</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/values target=_blank rel=noopener>Python Dictionary values()</a></td><td>returns view of all values in dictionary</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/dictionary/update target=_blank rel=noopener>Python Dictionary update()</a></td><td>Updates the Dictionary</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/any target=_blank rel=noopener>Python any()</a></td><td>Checks if any Element of an Iterable is True</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/all target=_blank rel=noopener>Python all()</a></td><td>returns true when all elements in iterable is true</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/ascii target=_blank rel=noopener>Python ascii()</a></td><td>Returns String Containing Printable Representation</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/bool target=_blank rel=noopener>Python bool()</a></td><td>Coverts a Value to Boolean</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/dict target=_blank rel=noopener>Python dict()</a></td><td>Creates a Dictionary</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/enumerate target=_blank rel=noopener>Python enumerate()</a></td><td>Returns an Enumerate Object</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/filter target=_blank rel=noopener>Python filter()</a></td><td>constructs iterator from elements which are true</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/iter target=_blank rel=noopener>Python iter()</a></td><td>returns iterator for an object</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/len target=_blank rel=noopener>Python len()</a></td><td>Returns Length of an Object</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/max target=_blank rel=noopener>Python max()</a></td><td>returns largest element</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/min target=_blank rel=noopener>Python min()</a></td><td>returns smallest element</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/map target=_blank rel=noopener>Python map()</a></td><td>Applies Function and Returns a List</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/sorted target=_blank rel=noopener>Python sorted()</a></td><td>returns sorted list from a given iterable</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/sum target=_blank rel=noopener>Python sum()</a></td><td>Add items of an Iterable</td></tr><tr><td><a class=link href=https://www.programiz.com/python-programming/methods/built-in/zip target=_blank rel=noopener>Python zip()</a></td><td>Returns an Iterator of Tuples</td></tr></tbody></table></div><p>###get()</p><p>如果没有返回None</p><h3 id=遍历>遍历</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>d</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;k1&#39;</span><span class=p>:</span><span class=s1>&#39;v1&#39;</span><span class=p>,</span> <span class=s1>&#39;k2&#39;</span><span class=p>:</span><span class=s1>&#39;v2&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;############################&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>items</span> <span class=o>=</span> <span class=n>d</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>items</span><span class=p>))</span> <span class=c1># &lt;class &#39;dict_items&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=c1># dict_items([(&#39;title&#39;, &#39;t&#39;), (&#39;url&#39;, &#39;baidu.com&#39;)])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;############################&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>items</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>key</span><span class=p>),</span> <span class=nb>type</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;############################&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>keys</span> <span class=o>=</span> <span class=n>d</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>keys</span><span class=p>))</span> <span class=c1># &lt;class &#39;dict_keys&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>keys</span><span class=p>)</span> <span class=c1># dict_keys([&#39;title&#39;, &#39;url&#39;])</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>d</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;############################&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>values</span> <span class=o>=</span> <span class=n>d</span><span class=o>.</span><span class=n>values</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>values</span><span class=p>))</span> <span class=c1># &lt;class &#39;dict_values&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>values</span><span class=p>)</span> <span class=c1># dict_values([&#39;t&#39;, &#39;baidu.com&#39;])</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>d</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=集合>集合</h2><p>判断元素是否在集合中。</p><div class=table-wrapper><table><thead><tr><th>Operation</th><th>Equivalent</th><th>Result</th></tr></thead><tbody><tr><td><code>len(s)</code></td><td></td><td>number of elements in set <em>s</em> (cardinality)</td></tr><tr><td><code>x in s</code></td><td></td><td>test <em>x</em> for membership in <em>s</em></td></tr><tr><td><code>x not in s</code></td><td></td><td>test <em>x</em> for non-membership in <em>s</em></td></tr><tr><td><code>s.issubset(t)</code></td><td><code>s &lt;= t</code></td><td>test whether every element in <em>s</em> is in <em>t</em></td></tr><tr><td><code>s.issuperset(t)</code></td><td><code>s >= t</code></td><td>test whether every element in <em>t</em> is in <em>s</em></td></tr><tr><td><code>s.union(t)</code></td><td>`s</td><td>t`</td></tr><tr><td><code>s.intersection(t)</code></td><td><code>s & t</code></td><td>new set with elements common to <em>s</em> and <em>t</em></td></tr><tr><td><code>s.difference(t)</code></td><td><code>s - t</code></td><td>new set with elements in <em>s</em> but not in <em>t</em></td></tr><tr><td><code>s.symmetric_difference(t)</code></td><td><code>s ^ t</code></td><td>new set with elements in either <em>s</em> or <em>t</em> but not both</td></tr><tr><td><code>s.copy()</code></td><td></td><td>new set with a shallow copy of <em>s</em></td></tr></tbody></table></div><p><a class=link href=https://docs.python.org/2/library/sets.html target=_blank rel=noopener>官网</a></p><h1 id=类>类</h1><h2 id=抽象基类>抽象基类</h2><p>默认情况下，Python解析器不强制检查对抽象类的继承，即抽象类的子类可能没有实现其中的抽象方法，但是Python并不会报错。 为了避免这种情况，从Python 3.4/2.6开始，Python标准库中提供了abc模块（Abstract Base Classes），为定义Python的抽象基类提供了公共基础。 事实上，Python标准库中的numbers模块和collections模块都是abc模块的典型应用。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>abc</span> <span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Animal</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Cat</span><span class=p>(</span><span class=n>Animal</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;run&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># a = Animal() a = Animal() TypeError: Can&#39;t instantiate abstract class Animal with abstract methods run</span>
</span></span><span class=line><span class=cl><span class=n>c</span> <span class=o>=</span> <span class=n>Cat</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>c</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://blog.csdn.net/taiyangdao/article/details/78199623 target=_blank rel=noopener>参考1</a></p><p><a class=link href=http://python3-cookbook.readthedocs.io/zh_CN/latest/c08/p12_define_interface_or_abstract_base_class.html target=_blank rel=noopener>参考2</a></p><h2 id=属性>属性</h2><p><strong>手动包装</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Rect</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>setSize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>size</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>width</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>size</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getSize</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>size</span> <span class=o>=</span> <span class=nb>property</span><span class=p>(</span><span class=n>getSize</span><span class=p>,</span> <span class=n>setSize</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>r</span> <span class=o>=</span> <span class=n>Rect</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>r</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>r</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>s</span> <span class=o>=</span> <span class=n>r</span><span class=o>.</span><span class=n>getSize</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>s</span><span class=p>))</span> <span class=c1># &lt;class &#39;tuple&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>r</span><span class=o>.</span><span class=n>size</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>r</span><span class=o>.</span><span class=n>size</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>装饰器</strong></p><p>把一个getter方法变成属性，只需要加上@property就可以了，此时，@property本身又创建了另一个装饰器@score.setter，负责把一个setter方法变成属性赋值，于是，我们就拥有一个可控的属性操作。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Animal</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@name.setter</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_name</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>value</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;Peter&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143186781871161bc8d6497004764b398401a401d4cce000 target=_blank rel=noopener>参考1</a></p><h2 id=继承>继承</h2><h3 id=调用父类的方法>调用父类的方法</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Animal</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Animal init&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Cat</span><span class=p>(</span><span class=n>Animal</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Cat init&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c</span> <span class=o>=</span> <span class=n>Cat</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3/library/functions.html#super target=_blank rel=noopener>官方文档</a></p><h2 id=静态方法>静态方法</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>bar</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>foo</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;foo&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>static_foo</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;static_foo&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>A</span><span class=o>.</span><span class=n>bar</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>class_foo</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;class_foo&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=bp>cls</span><span class=o>.</span><span class=n>bar</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>cls</span><span class=p>()</span><span class=o>.</span><span class=n>foo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>A</span><span class=o>.</span><span class=n>static_foo</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>A</span><span class=o>.</span><span class=n>class_foo</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=定制类>定制类</h2><h3 id=__str__>__str__</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student2</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;Student2 object name=</span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student3</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;Student2 object name=</span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=fm>__repr__</span> <span class=o>=</span> <span class=fm>__str__</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>s1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;Ken&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>s2</span> <span class=o>=</span> <span class=n>Student2</span><span class=p>(</span><span class=s1>&#39;Peter&#39;</span><span class=p>)</span> <span class=c1># &lt;__main__.Student object at 0x100aead30&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s2</span><span class=p>)</span> <span class=c1># Student2 object name=Peter</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s2</span><span class=o>.</span><span class=fm>__repr__</span><span class=p>())</span> <span class=c1># &lt;__main__.Student2 object at 0x100f29e80&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p><code>__repr__()</code>是为调试服务的</p><h2 id=单例>单例</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Singleton</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kw</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=s1>&#39;_instance&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>orig</span> <span class=o>=</span> <span class=nb>super</span><span class=p>(</span><span class=n>Singleton</span><span class=p>,</span> <span class=bp>cls</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=n>orig</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kw</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyClass</span><span class=p>(</span><span class=n>Singleton</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>one</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>two</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>two</span><span class=o>.</span><span class=n>a</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>one</span><span class=o>.</span><span class=n>a</span><span class=p>)</span> <span class=c1># 3</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>one</span><span class=p>))</span> <span class=c1># 29097904</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>two</span><span class=p>))</span> <span class=c1># 29097904</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>one</span> <span class=o>==</span> <span class=n>two</span><span class=p>)</span> <span class=c1># True</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>one</span> <span class=ow>is</span> <span class=n>two</span><span class=p>)</span> <span class=c1># True</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>将Singleton放到utils包的__init__文件中，就可以复用</p></blockquote><h2 id=对重载的支持-overloading>对重载的支持-overloading</h2><p><a class=link href=https://www.zhihu.com/question/20053359 target=_blank rel=noopener>见这里的讨论</a></p><h2 id=获取实例的类名>获取实例的类名</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>type</span><span class=p>(</span><span class=n>user</span><span class=p>)</span><span class=o>.</span><span class=vm>__name__</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=模块和包>模块和包</h1><p><a class=link href=https://www.genedock.com/blog/2015/10/25/python-import/ target=_blank rel=noopener>教程1</a></p><p><a class=link href=http://www.runoob.com/python/python-modules.html target=_blank rel=noopener>教程2</a></p><h2 id=基础-1>基础</h2><div class=table-wrapper><table><thead><tr><th>英文名</th><th>中文名</th><th>说明</th></tr></thead><tbody><tr><td>Module</td><td>模块</td><td>一个Python文件</td></tr><tr><td>Package</td><td>包</td><td>一个包含__init__.py文件的文件夹</td></tr></tbody></table></div><p>定义模块</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 面向 from mymodule import *</span>
</span></span><span class=line><span class=cl><span class=n>__all__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;sing&#39;</span><span class=p>,</span> <span class=s1>&#39;Animal&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 方法1</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>sing</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;sing&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 类</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Animal</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;animal run&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 方法2</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>walk</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;walk&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=引用-import-module格式>引用-import module格式</h2><p>使用方式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>模块名</span><span class=o>.</span><span class=n>函数名</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mymodule</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>mymodule</span><span class=o>.</span><span class=n>sing</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>mymodule</span><span class=o>.</span><span class=n>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>mymodule</span><span class=o>.</span><span class=n>walk</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=引用-from-module-import-name-格式>引用-from module import name 格式</h2><p>指定具体引进的内容</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>mymodule</span> <span class=kn>import</span> <span class=n>Animal</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># sing() # 错误</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=引用-from-module-import--格式>引用-from module import * 格式</h2><p>引进所有的内容</p><blockquote><p>任何不以“__”开头的东西都被导入</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>mymodule</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sing</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># walk() # NameError: name &#39;walk&#39; is not defined</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=http://www.runoob.com/python/python-modules.html target=_blank rel=noopener>参考</a></p><h2 id=例子>例子</h2><p>文件结构</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>main.py
</span></span><span class=line><span class=cl>mymodule.py
</span></span><span class=line><span class=cl>utils
</span></span><span class=line><span class=cl>   __init__.py
</span></span><span class=line><span class=cl>   net.py
</span></span></code></pre></td></tr></table></div></div><p>使用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mymodule</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>utils.net</span> <span class=kn>import</span> <span class=n>hi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>mymodule</span><span class=o>.</span><span class=n>Animal</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>hi</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=搜索路径>搜索路径</h2><p>1、当前目录</p><p>2、如果不在当前目录，Python 则搜索在 shell 变量 PYTHONPATH 下的每个目录。</p><p>3、如果都找不到，Python会察看默认路径。UNIX下，默认路径一般为/usr/local/lib/python/。</p><h2 id=pythonpath-变量>PYTHONPATH 变量</h2><p>作为环境变量，PYTHONPATH 由装在一个列表里的许多目录组成。</p><h2 id=dir函数>dir()函数</h2><p>dir() 函数一个排好序的字符串列表，内容是一个模块里定义过的名字。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mymodule</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>dir</span><span class=p>(</span><span class=n>mymodule</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># [&#39;Animal&#39;,</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;__all__&#39;, &#39;__builtins__&#39;, &#39;__cached__&#39;, &#39;__doc__&#39;, &#39;__file__&#39;, &#39;__loader__&#39;, &#39;__name__&#39;, &#39;__package__&#39;, &#39;__spec__&#39;,</span>
</span></span><span class=line><span class=cl><span class=c1># &#39;sing&#39;, &#39;walk&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>mymodule</span><span class=o>.</span><span class=vm>__name__</span><span class=p>)</span> <span class=c1># mymodule</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>mymodule</span><span class=o>.</span><span class=n>__package__</span><span class=p>)</span> <span class=c1># 内容为空</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>mymodule</span><span class=o>.</span><span class=vm>__doc__</span><span class=p>)</span> <span class=c1># None</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>mymodule</span><span class=o>.</span><span class=vm>__file__</span><span class=p>)</span> <span class=c1># /Users/yanghaibin/PycharmProjects/CorePython/Beginning/module/mymodule.py</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>globals</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># {</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__name__&#39;: &#39;__main__&#39;,</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__doc__&#39;: None,</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__package__&#39;: None,</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__loader__&#39;: &lt;_frozen_importlib_external.SourceFileLoader object at 0x10b7b5fd0&gt;,</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__spec__&#39;: None,</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__annotations__&#39;: {},</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__builtins__&#39;: &lt;module &#39;builtins&#39; (built-in)&gt;,</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__file__&#39;: &#39;/Users/yanghaibin/PycharmProjects/CorePython/Beginning/module/dir.py&#39;,</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;__cached__&#39;: None,</span>
</span></span><span class=line><span class=cl><span class=c1>#     &#39;mymodule&#39;: &lt;module &#39;mymodule&#39; from &#39;/Users/yanghaibin/PycharmProjects/CorePython/Beginning/module/mymodule.py&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># }</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>__name__</code>模块的名字</li><li><code>__file__</code>该模块的导入文件名</li></ul><h2 id=两种引用机制>两种引用机制</h2><ul><li>相对引用：relative import</li><li>完全引进：absolute import</li></ul><p>Python 3.x默认并且推荐使用完全引用。</p><p><a class=link href=https://www.genedock.com/blog/2015/10/25/python-import/ target=_blank rel=noopener>参考</a></p><h2 id=完全引用>完全引用</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pkg</span> <span class=kn>import</span> <span class=n>foo</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pkg.moduleA</span> <span class=kn>import</span> <span class=n>foo</span>
</span></span></code></pre></td></tr></table></div></div><p>需要将pkg放到<code>PYTHONPATH</code>才能解析出来。</p><p><strong>PyCharm设置</strong></p><p>需要将模块和包设置为source，IDE才能识别成源码，进行说到底解析。</p><p><code>Pycharm</code> <code>-></code> <code>Preferences</code> <code>-></code> <code>Project: XYZ</code> <code>-></code> <code>Project Structure</code></p><p><a class=link href=https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014318447437605e90206e261744c08630a836851f5183000 target=_blank rel=noopener>参考</a></p><p><a class=link href=https://blog.csdn.net/pwc1996/article/details/52577148 target=_blank rel=noopener>参考</a></p><h3 id=相同项目模块间引用>相同项目模块间引用</h3><ul><li>使用完全引用</li><li>不要用相对路径，不然之后调整结构很麻烦，统一从项目根目录开始 import ，然后开发的时候把项目根目录加到 python 模块搜索路径</li></ul><h3 id=将模块或包加入pythonpath>将模块或包加入PythonPath</h3><p>PyCharms的方法</p><p><img src=https://i.stack.imgur.com/sUjFS.png loading=lazy></p><p><a class=link href=https://chrisyeh96.github.io/2017/08/08/definitive-guide-python-imports.html target=_blank rel=noopener>参考</a></p><p><a class=link href=http://blog.51cto.com/bruceweien/1932422 target=_blank rel=noopener>参考</a></p><h2 id=互相引用>互相引用</h2><p>解决办法</p><ul><li>在函数中执行导入操作</li><li>在文件末尾执行导入操作</li></ul><p><a class=link href=https://mozillazg.com/2014/06/python-import-xy.html target=_blank rel=noopener>参考</a></p><h1 id=异常>异常</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>lst</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>((</span><span class=n>lst</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=mi>7</span><span class=p>)))</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;hb&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;good&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=内置异常类>内置异常类</h2><p>TypeError、ValueError、NameError、IndexError和KeyError可能经常使用。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ne>BaseException</span>
</span></span><span class=line><span class=cl> <span class=o>+--</span> <span class=ne>SystemExit</span>
</span></span><span class=line><span class=cl> <span class=o>+--</span> <span class=ne>KeyboardInterrupt</span>
</span></span><span class=line><span class=cl> <span class=o>+--</span> <span class=ne>GeneratorExit</span>
</span></span><span class=line><span class=cl> <span class=o>+--</span> <span class=ne>Exception</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>StopIteration</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>StopAsyncIteration</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>ArithmeticError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>FloatingPointError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>OverflowError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>ZeroDivisionError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>AssertionError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>AttributeError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>BufferError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>EOFError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>ImportError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>ModuleNotFoundError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>LookupError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>IndexError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>KeyError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>MemoryError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>NameError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>UnboundLocalError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>OSError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>BlockingIOError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>ChildProcessError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>ConnectionError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>|</span>    <span class=o>+--</span> <span class=ne>BrokenPipeError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>|</span>    <span class=o>+--</span> <span class=ne>ConnectionAbortedError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>|</span>    <span class=o>+--</span> <span class=ne>ConnectionRefusedError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>|</span>    <span class=o>+--</span> <span class=ne>ConnectionResetError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>FileExistsError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>FileNotFoundError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>InterruptedError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>IsADirectoryError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>NotADirectoryError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>PermissionError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>ProcessLookupError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>TimeoutError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>ReferenceError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>RuntimeError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>NotImplementedError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>RecursionError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>SyntaxError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>IndentationError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>         <span class=o>+--</span> <span class=ne>TabError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>SystemError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>TypeError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>ValueError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>    <span class=o>+--</span> <span class=ne>UnicodeError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>         <span class=o>+--</span> <span class=ne>UnicodeDecodeError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>         <span class=o>+--</span> <span class=ne>UnicodeEncodeError</span>
</span></span><span class=line><span class=cl>      <span class=o>|</span>         <span class=o>+--</span> <span class=ne>UnicodeTranslateError</span>
</span></span><span class=line><span class=cl>      <span class=o>+--</span> <span class=ne>Warning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>DeprecationWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>PendingDeprecationWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>RuntimeWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>SyntaxWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>UserWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>FutureWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>ImportWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>UnicodeWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>BytesWarning</span>
</span></span><span class=line><span class=cl>           <span class=o>+--</span> <span class=ne>ResourceWarning</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3/library/exceptions.html target=_blank rel=noopener>官网</a></p><h1 id=环境信息>环境信息</h1><p>显示操作系统信息</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>name</span><span class=p>)</span> <span class=c1># posix</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>uname</span><span class=p>())</span> <span class=c1># posix.uname_result(sysname=&#39;Darwin&#39;, nodename=&#39;yanghaibindeMacBook-Pro.local&#39;,</span>
</span></span></code></pre></td></tr></table></div></div><p>os.name: 如果是<code>posix</code>，说明系统是<code>Linux</code>、<code>Unix</code>或<code>Mac OS X</code>，如果是<code>nt</code>，就是<code>Windows</code>系统。</p><p>显示环境变量</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;PATH&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;default&#39;</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=文件输入输出>文件输入输出</h1><p><a class=link href=https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431925324119bac1bc7979664b4fa9843c0e5fcdcf1e000 target=_blank rel=noopener>教程</a></p><h2 id=检查>检查</h2><p>创建Path对象</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pathlib</span> <span class=kn>import</span> <span class=n>Path</span>
</span></span><span class=line><span class=cl><span class=n>my_file</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s2>&#34;/path/to/file&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>是否存在</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>my_file</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># path exists</span>
</span></span></code></pre></td></tr></table></div></div><p>是否是文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>my_file</span><span class=o>.</span><span class=n>is_file</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># file exists</span>
</span></span></code></pre></td></tr></table></div></div><p>是否是目录</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>my_file</span><span class=o>.</span><span class=n>is_dir</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># directory exists</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://stackoverflow.com/questions/82831/how-to-check-whether-a-file-exists target=_blank rel=noopener>参考</a></p><h2 id=路径>路径</h2><p><strong>显示当前文件夹路径</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>))</span> 
</span></span><span class=line><span class=cl><span class=c1># /Users/yanghaibin/PycharmProjects/CorePython/Beginning/pickle</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>获取Home路径</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pathlib</span> <span class=kn>import</span> <span class=n>Path</span>
</span></span><span class=line><span class=cl><span class=n>home</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>Path</span><span class=o>.</span><span class=n>home</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>获取当前Python文件的路径</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>realpath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://stackoverflow.com/questions/4934806/how-can-i-find-scripts-directory-with-python target=_blank rel=noopener>参考</a></p><p><strong>拼接路径</strong></p><blockquote><p>如果有子目录，要分开，不要放在一起</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dirname</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>filename</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>,</span> <span class=s1>&#39;relative&#39;</span><span class=p>,</span> <span class=s1>&#39;d.txt&#39;</span><span class=p>)</span> <span class=c1># 要分开</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dirname</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># /Users/yanghaibin/PycharmProjects/CorePython/Beginning/pickle</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># /Users/yanghaibin/PycharmProjects/CorePython/Beginning/pickle/relative/d.txt</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>取文件名或扩展名</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>r</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;/Users/michael/testdir/file.txt&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>r</span><span class=p>))</span> <span class=c1># &lt;class &#39;tuple&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>r</span><span class=p>)</span> <span class=c1># (&#39;/Users/michael/testdir&#39;, &#39;file.txt&#39;)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>r</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=s1>&#39;/path/to/file.txt&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>r</span><span class=p>)</span> <span class=c1># (&#39;/path/to/file&#39;, &#39;.txt&#39;)</span>
</span></span></code></pre></td></tr></table></div></div><p>判断扩展名</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>x</span><span class=p>)[</span><span class=mi>1</span><span class=p>]</span><span class=o>==</span><span class=s1>&#39;.py&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>判断路径是文件还是目录</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>r</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>r</span><span class=p>))</span> <span class=c1># &lt;class &#39;list&#39;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>r</span><span class=p>)</span> <span class=c1># [&#39;path1.py&#39;, &#39;a.txt&#39;, &#39;folder1&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>folders</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span> <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>isdir</span><span class=p>(</span><span class=n>x</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>folders</span><span class=p>)</span> <span class=c1># [&#39;folder1&#39;]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>显示路径下的所有文件和目录</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=目录>目录</h2><p><strong>创建和删除目录</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 然后创建一个目录:</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>os</span><span class=o>.</span><span class=n>mkdir</span><span class=p>(</span><span class=s1>&#39;/Users/michael/testdir&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 删掉一个目录:</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>os</span><span class=o>.</span><span class=n>rmdir</span><span class=p>(</span><span class=s1>&#39;/Users/michael/testdir&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>将中间缺少的目录也创建</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=s1>&#39;/Users/michael/testdir&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://docs.python.org/3/library/os.html#os.makedirs target=_blank rel=noopener>官方文档</a></p><h2 id=文件>文件</h2><p><a class=link href=https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431917715991ef1ebc19d15a4afdace1169a464eecc2000 target=_blank rel=noopener>教程</a></p><h3 id=打开和关闭文件>打开和关闭文件</h3><p><strong>使用try方式</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dir_name</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dir_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>file_name</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>dir_name</span><span class=p>,</span> <span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;d1.txt&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>file_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_name</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;f.close = &#39;</span><span class=p>,</span> <span class=n>f</span><span class=o>.</span><span class=n>closed</span><span class=p>)</span> <span class=c1># False</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>f</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>NameError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;well, it WASN&#39;T defined after all!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>f</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;f.close = &#39;</span><span class=p>,</span> <span class=n>f</span><span class=o>.</span><span class=n>closed</span><span class=p>)</span> <span class=c1># True</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>使用with方式</strong></p><p>with 语句适用于对资源进行访问的场合，确保不管使用过程中是否发生异常都会执行必要的“清理”操作，释放资源，比如文件使用后自动关闭、线程中锁的自动获取和释放等。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>root</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>file_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>root</span><span class=p>,</span> <span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;d1.txt&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=n>f</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p>即使有异常也会关闭</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;file.txt&#34;</span><span class=p>,</span> <span class=s2>&#34;r&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>content</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># Python still executes f.close() even though an exception occurs</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span> <span class=o>/</span> <span class=mi>0</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://www.ibm.com/developerworks/cn/opensource/os-cn-pythonwith/index.html target=_blank rel=noopener>深入了解with</a></p><h3 id=读文件>读文件</h3><p>read(size)</p><p>readlines()</p><h3 id=写文件>写文件</h3><p>write()</p><h3 id=删除文件文件夹>删除文件(文件夹)</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>shutil</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>()</span> <span class=c1># will remove a file.</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>rmdir</span><span class=p>()</span> <span class=c1># will remove an empty directory.</span>
</span></span><span class=line><span class=cl><span class=n>shutil</span><span class=o>.</span><span class=n>rmtree</span><span class=p>()</span> <span class=c1># will delete a directory and all its contents.</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=重命名>重命名</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=s1>&#39;d2.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;d2-a.txt&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=复制>复制</h3><p><code>shutil</code>模块提供了<code>copyfile()</code>的函数。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>shutil</span><span class=o>,</span> <span class=nn>errno</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>copyanything</span><span class=p>(</span><span class=n>src</span><span class=p>,</span> <span class=n>dst</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>shutil</span><span class=o>.</span><span class=n>copytree</span><span class=p>(</span><span class=n>src</span><span class=p>,</span> <span class=n>dst</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>OSError</span> <span class=k>as</span> <span class=n>exc</span><span class=p>:</span> <span class=c1># python &gt;2.5</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>exc</span><span class=o>.</span><span class=n>errno</span> <span class=o>==</span> <span class=n>errno</span><span class=o>.</span><span class=n>ENOTDIR</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>shutil</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=n>src</span><span class=p>,</span> <span class=n>dst</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span> <span class=k>raise</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=异常-1>异常</h2><p>找不到文件可以抛出如下的异常</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>is_path_exist</span><span class=p>(</span><span class=n>file_name_path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>FileNotFoundError</span><span class=p>(</span><span class=s1>&#39;file not exist: &#39;</span> <span class=o>+</span> <span class=n>file_name_path</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=序列化>序列化</h2><ul><li>我们把变量从内存中变成可存储或传输的过程称之为序列化。</li><li>序列化在Python中叫pickling，在其他语言中也被称之为serialization，marshalling，flattening等等，都是一个意思.</li><li>序列化之后，就可以把序列化后的内容写入磁盘，或者通过网络传输到别的机器上。</li><li>反过来，把变量内容从序列化的对象重新读到内存里称之为反序列化，即unpickling。</li></ul><h3 id=picklejsonshelve对比>pickle、JSON、shelve对比</h3><ul><li>需要与外部系统交互时用JSON模块</li><li>少量的数据使用pickle</li><li>需要将大量Python数据持久化到本地磁盘文件或需要一些简单的类似数据库的增删改查功能时，可以考虑用shelve模块。</li></ul><p><a class=link href=http://www.cnblogs.com/yyds/p/6563608.html target=_blank rel=noopener>参考</a></p><h3 id=pickle>pickle</h3><blockquote><p>pickle的性能比cpickle差，建议使用cpic</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pickle</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>User</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>+</span> <span class=s2>&#34;_&#34;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 序列化到文件</span>
</span></span><span class=line><span class=cl><span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=s2>&#34;Python&#34;</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>user</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;user.pkl&#39;</span><span class=p>,</span> <span class=s1>&#39;wb&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>user</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 反序列化到内存</span>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;user.pkl&#39;</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>user1</span> <span class=o>=</span> <span class=n>pickle</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>user1</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href="http://www.zengyuetian.com/?p=2709" target=_blank rel=noopener>教程</a></p><h1 id=数据存储>数据存储</h1><h2 id=hf5>HF5</h2><h1 id=数据库-sqlite>数据库-SQLite</h1><p><a class=link href=https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001432010494717e1db78cd172e4d52b853e7fd38d6985c000 target=_blank rel=noopener>中文入门教程</a></p><h2 id=异常处理>异常处理</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>execute_sql</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>con</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>con</span> <span class=o>=</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>DB_FILENAME</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>cur</span> <span class=o>=</span> <span class=n>con</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>cur</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>args</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=n>data</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>con</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>Error</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Database error: </span><span class=si>%s</span><span class=s2>&#34;</span> <span class=o>%</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Exception in _query: </span><span class=si>%s</span><span class=s2>&#34;</span> <span class=o>%</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>con</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>con</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>data</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://www.programcreek.com/python/example/6844/sqlite3.Error target=_blank rel=noopener>参考</a></p><h2 id=sqlite的数据表的类型>SQLite的数据表的类型</h2><p><a class=link href=https://www.sqlite.org/lang_datefunc.html target=_blank rel=noopener>官网</a></p><blockquote><p>SQL浏览工具-<a class=link href=https://sqlitebrowser.org/ target=_blank rel=noopener>DB Browser for SQLite</a></p></blockquote><h1 id=线程>线程</h1><h2 id=获取线程信息>获取线程信息</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>threading</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>threading</span><span class=o>.</span><span class=n>get_ident</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>threading</span><span class=o>.</span><span class=n>current_thread</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://my.oschina.net/lionets/blog/194577 target=_blank rel=noopener>文档</a></p><p><a class=link href=https://docs.python.org/3/library/threading.html#threading.get_ident target=_blank rel=noopener>英文</a></p><h1 id=网络请求>网络请求</h1><p>非常好的<a class=link href=http://docs.python-requests.org/en/latest/user/quickstart/#custom-headers target=_blank rel=noopener>库</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>url</span> <span class=o>=</span> <span class=s1>&#39;http://wjwtradingview.moduointerface.com/public/tradingView/history&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>headers</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;X-Custom-UserAgent&#39;</span><span class=p>:</span> <span class=s1>&#39;vbourse/v1.1.0&#39;</span><span class=p>,</span> <span class=s1>&#39;Content-Type&#39;</span><span class=p>:</span> <span class=s1>&#39;application/json;charset=UTF-8&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ts_start = int(datetime(2018, 6, 11, 0, 0, 0).timestamp())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>now</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>start</span> <span class=o>=</span> <span class=n>now</span> <span class=o>-</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>minutes</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ts_end</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>now</span><span class=o>.</span><span class=n>timestamp</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>ts_start</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>start</span><span class=o>.</span><span class=n>timestamp</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>payload</span> <span class=o>=</span> <span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{&#34;symbol&#34;:&#34;DDW-WCNY&#34;,&#34;resolution&#34;:&#34;1&#34;,&#34;from&#34;:</span><span class=si>%d</span><span class=s1>,&#34;to&#34;:</span><span class=si>%d</span><span class=s1>}
</span></span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>ts_start</span><span class=p>,</span> <span class=n>ts_end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>r</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>payload</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>r</span><span class=o>.</span><span class=n>status_code</span>
</span></span><span class=line><span class=cl><span class=n>r</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=其它>其它</h1><h2 id=循环>循环</h2><p>range(1, 5)</p><p>包含1,但不包含5</p><h2 id=三元表达式>三元表达式</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=mi>1000</span> <span class=k>if</span> <span class=n>instrument</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=s1>&#39;INDX&#39;</span> <span class=k>else</span> <span class=mi>100</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=代码规范>代码规范</h2><p>谷歌的<a class=link href=http://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/python_style_rules/ target=_blank rel=noopener>代码规范</a></p><p>##sleep</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://www.tutorialspoint.com/python/time_sleep.htm target=_blank rel=noopener>参考文档</a></p><h2 id=pep>PEP</h2><p>Python Enhancement Proposals (PEPs)</p><p><a class=link href=https://www.python.org/dev/peps/ target=_blank rel=noopener>官网</a></p><h2 id=结构化工程>结构化工程</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>.project_root/                      项目根目录         
</span></span><span class=line><span class=cl><span class=p>|</span>
</span></span><span class=line><span class=cl>├── app/                            app代码等<span class=o>(</span>不限定，可根据实际情况命名和确定结构<span class=o>)</span>
</span></span><span class=line><span class=cl>│   ├── .../
</span></span><span class=line><span class=cl>│   ├── .../
</span></span><span class=line><span class=cl>│   └── ...
</span></span><span class=line><span class=cl>├── config/                         配置文件夹
</span></span><span class=line><span class=cl>│   ├── config.ini                  配置文件（应该被版本库ignore掉）
</span></span><span class=line><span class=cl>│   └── config.ini.example          配置文件示例
</span></span><span class=line><span class=cl>├── static/                         静态文件夹
</span></span><span class=line><span class=cl>│   ├── css/                        
</span></span><span class=line><span class=cl>│   ├── img/
</span></span><span class=line><span class=cl>│   ├── js/
</span></span><span class=line><span class=cl>│   └── favicon.ico                 网站图标
</span></span><span class=line><span class=cl>├── README.md                       项目说明文件
</span></span><span class=line><span class=cl>├── requrements.txt                 项目依赖文件
</span></span><span class=line><span class=cl>├── TODO.md                         待完成项目
</span></span><span class=line><span class=cl>└── .gitignore                      版本库ignore文件
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=http://pythonguidecn.readthedocs.io/zh/latest/writing/structure.html target=_blank rel=noopener>参考</a></p><p><a class=link href=https://python-guide.gitbooks.io/python-style-guide/content/project-guide/dir.html target=_blank rel=noopener>参考</a></p><h2 id=将python-2转成3的工具>将Python 2转成3的工具</h2><p><a class=link href=http://www.pythonconverter.com/ target=_blank rel=noopener>链接</a></p><h1 id=pycharm>PyCharm</h1><h2 id=变量名称切换大小写>变量名称切换大小写</h2><p>cmd+shift+U</p><h2 id=自动生成函数的注释>自动生成函数的注释</h2><ul><li>将光标定位到函数名</li><li>按 ⌥⏎</li><li>弹出窗口</li></ul><p><img src=/var/folders/rq/5t95w1lx5gx1m5zgwmf5nyvw0000gn/T/abnerworks.Typora/image-20180507152655423.png loading=lazy alt=image-20180507152655423></p><p><a class=link href=https://www.jetbrains.com/help/pycharm/creating-documentation-comments.html target=_blank rel=noopener>参考</a></p><p>##优化import列表</p><ul><li>On the main menu, choose Code | Optimize Imports.</li><li>Press ⌃⌥O.</li></ul><p>##查看数据库文件</p><p><a class=link href=https://blog.csdn.net/qq_36482772/article/details/53458400 target=_blank rel=noopener>教程</a></p><h2 id=在jenkins中配置项目>在Jenkins中配置项目</h2><p>1、安装插件<code>ShiningPanda</code></p><p>2、在全局工具中配置Python路径</p><p>C:\Users\SQ\Anaconda3\</p><p>3、构建项目</p><p>选择：Python Builder</p><p>Nature: Shell</p><p>Command: python main.py update_source_data</p><p>4、配置Home的位置</p><p>系统管理&ndash;>系统配置</p><p><a class=link href=http://smallquant.iask.in:10620/configure target=_blank rel=noopener>http://smallquant.iask.in:10620/configure</a></p><p>增加环境变量：</p><p>key: home</p><p>value: C:\Users\SQ</p><p>查看环境变量</p><p><a class=link href=http://smallquant.iask.in:10620/systemInfo target=_blank rel=noopener>http://smallquant.iask.in:10620/systemInfo</a></p><h1 id=python-shell>Python Shell</h1><p><strong>显示当前的工作目录</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>getcwd</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 一般是当前的目录</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>切换工作目录</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>chdir</span><span class=p>(</span><span class=s1>&#39;/server/accesslogs&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>执行module</strong></p><p>demo.py</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;welcome to demo&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;from main&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;not from main&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>导入</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>demo</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>welcome</span> <span class=n>to</span> <span class=n>demo</span>
</span></span><span class=line><span class=cl><span class=ow>not</span> <span class=kn>from</span> <span class=nn>main</span>
</span></span></code></pre></td></tr></table></div></div><p>执行</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>exec</span><span class=p>(</span><span class=nb>open</span><span class=p>(</span><span class=s2>&#34;demo.py&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>read</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>welcome</span> <span class=n>to</span> <span class=n>demo</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>main</span>
</span></span></code></pre></td></tr></table></div></div><p>在WingIDE中可以：</p><p>Python Shell右上角的Options &ndash;> Evalute demo.py</p><p>在Pychamrs中可以：</p><p>run demo.py</p><p><a class=link href=https://stackoverflow.com/questions/1027714/how-to-execute-a-file-within-the-python-interpreter target=_blank rel=noopener>参考</a></p><h1 id=文档注释>文档注释</h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_trade_data_list</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>start</span><span class=p>:</span> <span class=n>date</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>end</span><span class=p>:</span> <span class=n>date</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>delta</span><span class=p>:</span> <span class=n>timedelta</span><span class=o>=</span><span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>1</span><span class=p>),</span> <span class=n>count</span><span class=p>:</span> <span class=nb>int</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;获取历史行情数据
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>暂时只支持日级别
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>参数
</span></span></span><span class=line><span class=cl><span class=s2>---------------
</span></span></span><span class=line><span class=cl><span class=s2>start : datetime.date
</span></span></span><span class=line><span class=cl><span class=s2>        start date
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>end : datetime.date
</span></span></span><span class=line><span class=cl><span class=s2>        end date
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>delta : datetime.timedelta
</span></span></span><span class=line><span class=cl><span class=s2>        时间间隔，暂时只支持日级别
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>count : int
</span></span></span><span class=line><span class=cl><span class=s2>        number of bars, 按照交易日来计算
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>返回值
</span></span></span><span class=line><span class=cl><span class=s2>-----------------
</span></span></span><span class=line><span class=cl><span class=s2>list(TradingData)
</span></span></span><span class=line><span class=cl><span class=s2>    list of TradingData
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>示例
</span></span></span><span class=line><span class=cl><span class=s2>--------
</span></span></span><span class=line><span class=cl><span class=s2>&gt;&gt;&gt; stock = StockDataManager().get_stock(&#39;002106.XSHE&#39;)
</span></span></span><span class=line><span class=cl><span class=s2>&gt;&gt;&gt; td_list = stock.get_trade_data_list(count=3)
</span></span></span><span class=line><span class=cl><span class=s2>&gt;&gt;&gt; for td in td_list:
</span></span></span><span class=line><span class=cl><span class=s2>&gt;&gt;&gt;     log.info(td.get_format_string())
</span></span></span><span class=line><span class=cl><span class=s2>2018-07-19 5.78 5.69 5.81 5.65 5566130.0 0.007906434659090909
</span></span></span><span class=line><span class=cl><span class=s2>2018-07-20 5.7 5.77 5.81 5.67 4766773.0 0.006770984375
</span></span></span><span class=line><span class=cl><span class=s2>2018-07-23 5.75 5.85 5.89 5.74 5457424.0 0.007752022727272727
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://python-guide.gitbooks.io/python-style-guide/content/style-guide/comment_and_docs.html target=_blank rel=noopener>参考1</a></p><p><a class=link href=https://blog.csdn.net/liang19890820/article/details/74264380 target=_blank rel=noopener>参考2</a></p><p><a class=link href=http://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/python_style_rules/ target=_blank rel=noopener>参考3</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><div id=cusdis_thread data-host=https://cusdis.com data-app-id=287ed0fd-6a12-4302-a1ad-d2fd382e1199 data-page-id=6b7b9860534b1364d9dd31a14767395f data-page-url=https://blog.ververv.com/p/ data-page-title></div><script async defer src=https://cusdis.com/js/cusdis.es.js></script><script>function setCusdisTheme(e){let t=document.querySelector("#cusdis_thread iframe");t&&window.CUSDIS.setTheme(e)}window.addEventListener("onColorSchemeChange",e=>{setCusdisTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2023 -
2024 量子跳跃者</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.24.2>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>